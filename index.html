<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxQBDwk3cvr1bt8YVL5m6bJGrFEmzrSbCrH1roypLjJr4AbbteCKh9Y6gQVYexdY85QA2HG5nQFLWpRp69zFSPDJ9" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VvykE47cdahchdt8fxwHyYwJ7YSmEFcMSyqf4UNs61izpuF1xXpKA4HeZQctDkkU11B5iLVSBjpCQrk5f5mWXS9xv" rel="stylesheet" type="text/css"><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VvjwYaxizFrjskcEWTtLYshVQwcGfd84RoBJsWfkj84Hp94LiXrAwJmQR4Bic6riQshvEqLdm4nDTjQ3GkQVtZgxX" type="text/javascript"></script></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let docs = viewer.read_string("{\"srinotebooks/indexmodel.clj\" {:nextjournal/value [{:nextjournal/value {:type :doc, :content [{:type :heading, :content [{:type :text, :text \"Model Index\"}], :heading-level 1}], :toc {:type :toc, :content [{:level 1, :type :toc, :title \"Model Index\", :node {:type :heading, :content [{:type :text, :text \"Model Index\"}], :heading-level 1}, :path [:content 0]}]}}, :nextjournal/viewer :markdown} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"We begin by defning operators to make and move dates\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(clerk/hide-result\\n (defn make-dt [d]\\n   (f/parse (f/formatter \\\"YYYY-mm-dd\\\") d)))\", :nextjournal/viewer :code} {:nextjournal/value \"(defn move-dt [d x]\\n  (t/plus d (t/days x)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$move_dt 0x18bfbcd2 \\\\\\\"indexmodel$move_dt@18bfbcd2\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :strong, :content [{:type :text, :text \"t0 epoch is 23 jan\"}]}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def t0 \\\"2022-01-23\\\")\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"2022-01-23\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}}\"}, :path []} {:nextjournal/value \"(def t0-index 0)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value \"(move-dt (make-dt t0) -3)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :nippy/unthawable, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value :cause, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1], :nextjournal/value :quarantined, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value :class-name, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1 1], :nextjournal/value \\\"org.joda.time.DateTime\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value :content, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 2 1], :nextjournal/value \\\"#object[\\\\\\\"[B\\\\\\\" 0x67cd2d0a \\\\\\\"[B@67cd2d0a\\\\\\\"]\\\", :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 3], :nextjournal/value [{:path [0 1 3 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 3 1], :nextjournal/value :serializable, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"}\\\")}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens nil}}\"}, :path []} {:nextjournal/value \"(move-dt (make-dt t0) 3)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"#object[org.joda.time.DateTime 0x48b16f22 \\\\\\\"2022-01-26T00:01:00.000Z\\\\\\\"]\\\", :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"We want to model 5 assets a0, a1..an over 10 days\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"In general we hard code for repeatability. The code to re generate is mentioned as fyr only\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def tot-assets 5)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 5, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value \"(def tot-days 10)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 10, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :strong, :content [{:type :text, :text \"asset names\"}]}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def all-assets\\n(->> (range tot-assets)\\n     (map (partial format \\\"a%d\\\"))\\n     (mapv keyword)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value :a0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1], :nextjournal/value :a1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2], :nextjournal/value :a2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3], :nextjournal/value :a3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4], :nextjournal/value :a4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"initial prices for asset\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def init-values [576.2446521378745 5152.173070124188 242.67589568576943 6267.522378954439 413.97277695734005])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 576.2446521378745, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 5152.173070124188, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 242.67589568576943, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 6267.522378954439, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 413.97277695734005, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"code fyr only\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(->> (repeatedly tot-assets rand)\\n     (mapv #(* % (rand-int 10000))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 2971.667247278003, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 3299.959492067972, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 2773.787833584568, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 72.35716008200632, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 4269.80457008232, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"sell price is less than buy price\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def init-values-sell [544.0325760833673 5093.953514431784 228.79483445254343 6223.022970063862 401.1396208716625])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 544.0325760833673, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 5093.953514431784, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 228.79483445254343, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 6223.022970063862, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 401.1396208716625, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"code fyr only\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(->> (repeatedly tot-assets (partial rand-int 800))\\n     (map #(/ % (* 100 100)))\\n     (map-indexed vector)\\n     (mapv (fn [[x y]] (- (get init-values x) (* (get init-values x) y)))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 539.7683656575471, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 4896.110068539016, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 224.37813315106243, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 6230.543996918607, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 396.95849582439337, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :heading, :content [{:type :text, :text \"model general + or - trend in basis points\"}], :heading-level 3} {:type :paragraph, :content [{:type :text, :text \"trend a 100 bp would mean that the trend is increasing by 1 pct everyday\"}]}], :toc {:type :toc, :content [{:content [{:content [{:level 3, :type :toc, :title \"model general + or - trend in basis points\", :node {:type :heading, :content [{:type :text, :text \"model general + or - trend in basis points\"}], :heading-level 3}, :path [:content 0]}], :type :toc}], :type :toc}]}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def trend-bps [275 -102 142 -193 -18])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 275, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value -102, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 142, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value -193, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value -18, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"code fyr only\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(->> (repeatedly tot-assets (partial rand-int 800))\\n     (mapv (partial - 400)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 315, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 47, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 234, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 132, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 88, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"intra-day fluctuation (3 times each day for 10 days )\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def fluctuation [[166 254 85] [372 187 -169] [145 -364 79] [295 73 211] [-74 -293 124] [262 114 385] [58 -311 232] [323 73 -3] [203 -72 -2] [-290 179 155]])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 166, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1], :nextjournal/value 254, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 2], :nextjournal/value 85, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 372, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1], :nextjournal/value 187, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 2], :nextjournal/value -169, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 145, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1], :nextjournal/value -364, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 2], :nextjournal/value 79, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 295, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1], :nextjournal/value 73, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 2], :nextjournal/value 211, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value -74, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1], :nextjournal/value -293, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 2], :nextjournal/value 124, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value 262, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1], :nextjournal/value 114, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 2], :nextjournal/value 385, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value 58, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1], :nextjournal/value -311, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 2], :nextjournal/value 232, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value 323, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7 1], :nextjournal/value 73, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7 2], :nextjournal/value -3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value 203, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1], :nextjournal/value -72, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 2], :nextjournal/value -2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value -290, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1], :nextjournal/value 179, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 2], :nextjournal/value 155, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"code fyr only\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(let [in-day-count 3]\\n  (->> (repeatedly (* in-day-count tot-days) (partial rand-int 800))\\n       (map (partial - 400))\\n       (partition in-day-count)\\n       (mapv (partial apply vector))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 278, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1], :nextjournal/value 214, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 2], :nextjournal/value 129, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value -218, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1], :nextjournal/value -44, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 2], :nextjournal/value 224, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value -140, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1], :nextjournal/value 212, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 2], :nextjournal/value -186, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value -175, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1], :nextjournal/value -367, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 2], :nextjournal/value -292, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value 131, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1], :nextjournal/value -279, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 2], :nextjournal/value 371, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value -276, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1], :nextjournal/value 348, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 2], :nextjournal/value -178, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value 166, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1], :nextjournal/value 12, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 2], :nextjournal/value 94, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value 284, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7 1], :nextjournal/value -17, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7 2], :nextjournal/value -118, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value -206, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1], :nextjournal/value -89, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 2], :nextjournal/value -397, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value 206, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1], :nextjournal/value -294, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 2], :nextjournal/value -170, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"Given asset, day, time of day - get a predictable (reasonably realistic) random price\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(defn simulate-price\\n  ([asset-num day-num intra-pos buysell]\\n   (let [rate (/ (nth trend-bps asset-num) (* 100 100))\\n         factor (+ 1 rate)\\n         valarray (if (= buysell :buy) init-values init-values-sell)\\n         price-trend (* (get valarray asset-num) (Math/pow factor day-num))\\n         f-rate (/ (get-in fluctuation [day-num intra-pos]) (* 100 100))\\n         f-factor (+ 1 f-rate)\\n         price-trend (* price-trend (Math/pow f-factor 1))]\\n     price-trend))\\n  ([asset-num day-num]\\n   (simulate-price asset-num day-num 1 :buy)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$simulate_price 0x48d2adc2 \\\\\\\"indexmodel$simulate_price@48d2adc2\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value \"(let [s (range tot-days)\\n    a 0\\n]\\n(clerk/plotly {:data [{:x s :y (map #(simulate-price a % 0 :buy) s)} {:x s :y (map #(simulate-price a % 0 :sell) s)}] :layout {:margin {:l 50 :t 50} :title (format \\\"a%d begin day\\\" a) :xaxis1 {:title \\\"t\\\"}  }}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:x (0 1 2 3 4 5 6 7 8 9), :y (585.8103133633632 614.117179410332 617.1953144724796 643.5447482466997 637.5415603013017 677.2485299049756 682.039492390695 719.2595701081475 730.4482264984305 714.2703339194849)} {:x (0 1 2 3 4 5 6 7 8 9), :y (553.0635168463511 579.7880290812944 582.694096393468 607.5705968197093 601.9029870804591 639.3903370832876 643.9134847660553 679.0529601391021 689.6161706371682 674.3426222533857)}], :layout {:margin {:l 50, :t 50}, :title \\\"a0 begin day\\\", :xaxis1 {:title \\\"t\\\"}}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(let [s (range tot-days)\\n    a 0\\n]\\n(clerk/plotly {:data [{:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :buy) s) (map #(simulate-price a % 1 :buy) s) (map #(simulate-price a % 2 :buy) s))} {:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :sell) s) (map #(simulate-price a % 1 :sell) s) (map #(simulate-price a % 2 :sell) s))} ] :layout {:margin {:l 50 :t 50} :title (format \\\"a%d thrice a day\\\" a) :xaxis1 {:title \\\"t\\\"}  }}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (585.8103133633632 590.8812663021765 581.1427316810464 614.117179410332 603.1634888790062 582.085035748455 617.1953144724796 586.2290833175765 613.1800467785237 643.5447482466997 629.667435559884 638.2938731760125 637.5415603013017 623.4753098775676 650.2589921912531 677.2485299049756 667.4811568367691 685.366008873823 682.039492390695 657.0173634692229 693.8385450528527 719.2595701081475 701.8407100357813 696.5453765737819 730.4482264984305 710.7605599016385 715.7719659444583 714.2703339194849 748.770105969767 747.0046592123964)} {:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (553.0635168463511 557.8510035158848 548.6568529800759 579.7880290812944 569.4466498506697 549.5464822501162 582.694096393468 553.458877560124 578.9032821636042 607.5705968197093 594.4690259120866 602.6132456654735 601.9029870804591 588.6230400554116 613.9095145277621 639.3903370832876 630.1689601695938 647.0540489777765 643.9134847660553 620.2900928512934 655.0529703843982 679.0529601391021 662.6078143447812 657.6084900233076 689.6161706371682 671.029044603137 675.7603130481632 674.3426222533857 706.913857046057 705.2470987624235)}], :layout {:margin {:l 50, :t 50}, :title \\\"a0 thrice a day\\\", :xaxis1 {:title \\\"t\\\"}}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(let [s (range tot-days)\\n    a 1\\n]\\n(clerk/plotly {:data [{:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :buy) s) (map #(simulate-price a % 1 :buy) s) (map #(simulate-price a % 2 :buy) s))} {:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :sell) s) (map #(simulate-price a % 1 :sell) s) (map #(simulate-price a % 2 :sell) s))} ] :layout {:margin {:l 50 :t 50} :title (format \\\"a%d thrice a day\\\" a) :xaxis1 {:title \\\"t\\\"}  }}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (5237.699143088249 5283.038266105343 5195.966541220243 5289.326802467813 5194.983815728848 5013.43731151765 5120.795040767777 4863.871957894362 5087.480849275351 5143.504719395593 5032.590873090997 5101.537318091151 4908.56461201598 4800.265634579802 5006.478755999373 5022.959783398469 4950.5179545207675 5083.164816857639 4872.891835948869 4694.119009595207 4957.191217481491 4950.265781048984 4830.381401967104 4793.936550726212 4842.815522042967 4712.287807786198 4745.513044142466 4561.805016573852 4782.143487508265 4770.868171298402)} {:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (5178.513142771351 5223.339933698352 5137.252119304454 5229.557409599926 5136.280498611111 4956.785469897501 5062.930056807102 4808.910204770156 5029.99231567854 5085.383116066423 4975.722596225069 5043.889946396721 4853.097831900199 4746.022632909049 4949.90554605658 4966.200337846066 4894.577101634683 5025.725054427147 4817.828158202647 4641.075464786781 4901.174956723949 4894.32777772313 4775.798092124875 4739.765067703006 4788.091706643881 4659.038955558213 4691.888746743656 4510.256619886569 4728.105266099422 4716.9573609627305)}], :layout {:margin {:l 50, :t 50}, :title \\\"a1 thrice a day\\\", :xaxis1 {:title \\\"t\\\"}}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(let [s (range tot-days)\\n    a 2\\n]\\n(clerk/plotly {:data [{:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :buy) s) (map #(simulate-price a % 1 :buy) s) (map #(simulate-price a % 2 :buy) s))} {:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :sell) s) (map #(simulate-price a % 1 :sell) s) (map #(simulate-price a % 2 :sell) s))} ] :layout {:margin {:l 50 :t 50} :title (format \\\"a%d thrice a day\\\" a) :xaxis1 {:title \\\"t\\\"}  }}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (246.7043155541532 248.839863436188 244.73864079909845 255.277627839155 250.7243728111716 241.96243340597115 253.23626824306868 240.53077188666438 251.58879720274908 260.62964400005706 255.0094612931107 258.5030883812124 254.8562784033666 249.23331598443275 259.9400526451424 267.2247519450733 263.3707991787636 270.42769917653345 265.63170494498627 255.8864176985456 270.22704364655993 276.5017039796363 269.80545037168235 267.76978927486437 277.16818477973743 269.69771032963183 271.59928564420414 267.5212758860188 280.44274636908193 279.7815197345542)} {:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (232.59282870445563 234.60622324763804 230.73959054539003 240.67574752675534 236.3829386863726 228.12218221514962 238.75115369956518 226.77241173474718 237.19791800275183 245.72162836325379 240.42292010714476 243.71671172580707 240.27849927869403 234.9771703101232 245.07148163384022 251.9394961338151 248.3059894657383 254.95923478363574 250.4375714221331 241.24971460618883 254.77005674997673 260.68580651200114 254.37257861042212 252.4533573283421 261.3141646103365 254.2710012987769 256.06380650535567 252.21905890533856 264.40142127677046 263.7780168057377)}], :layout {:margin {:l 50, :t 50}, :title \\\"a2 thrice a day\\\", :xaxis1 {:title \\\"t\\\"}}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(let [s (range tot-days)\\n    a 3\\n]\\n(clerk/plotly {:data [{:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :buy) s) (map #(simulate-price a % 1 :buy) s) (map #(simulate-price a % 2 :buy) s))} {:x (range (* 3 tot-days)) :y (interleave (map #(simulate-price a % 0 :sell) s) (map #(simulate-price a % 1 :sell) s) (map #(simulate-price a % 2 :sell) s))} ] :layout {:margin {:l 50 :t 50} :title (format \\\"a%d thrice a day\\\" a) :xaxis1 {:title \\\"t\\\"}  }}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (6371.563250445082 6426.717447379882 6320.796319175552 6375.211199170529 6261.499854025277 6042.682346610632 6115.335598303531 5808.513930532561 6075.551256313583 6085.983494414327 5954.746162140409 6036.326125445817 5754.596343153119 5627.63114074021 5869.386800129174 5834.568999329032 5750.42202876767 5904.501954592866 5608.213989655334 5402.4642419736065 5705.234195879239 5644.884337842357 5508.177848986347 5466.619076374121 5471.585404383877 5324.110545400679 5361.649600414585 5106.704180832079 5353.3616742213935 5340.739542363519)} {:x (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29), :y (6326.325151366922 6381.087753503484 6275.918665309405 6329.947199656418 6217.043205061698 5999.779301949696 6071.916715555575 5767.273481625779 6032.414842393755 6042.773011603985 5912.467464389212 5993.468209955151 5713.738709116731 5587.674959640954 5827.714153848256 5793.1435594337945 5709.594032363419 5862.579990715256 5568.395670328782 5364.106745855594 5664.727033088497 5604.805659043676 5469.069786258545 5427.806080931864 5432.737148012751 5286.309360528335 5323.5818882516405 5070.4465811481705 5315.352806334421 5302.8202916127375)}], :layout {:margin {:l 50, :t 50}, :title \\\"a3 thrice a day\\\", :xaxis1 {:title \\\"t\\\"}}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"end of 9 day buy price for :a4\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(simulate-price 4 9 2 :buy)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 413.62787627489104, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value \"(simulate-price 4 9 2 :sell)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 400.8054121103694, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :heading, :content [{:type :text, :text \"Asset prices dummy for our model 3 times a day for n days\"}], :heading-level 2}], :toc {:type :toc, :content [{:content [{:level 2, :type :toc, :title \"Asset prices dummy for our model 3 times a day for n days\", :node {:type :heading, :content [{:type :text, :text \"Asset prices dummy for our model 3 times a day for n days\"}], :heading-level 2}, :path [:content 0]}], :type :toc}]}}, :nextjournal/viewer :markdown} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"price table\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(for [i (range tot-assets)\\n      j (range tot-days)]\\n  (format \\\"%d %d %f\\\" i j (simulate-price i j)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value \\\"0 0 590.881266\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [1], :nextjournal/value \\\"0 1 603.163489\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [2], :nextjournal/value \\\"0 2 586.229083\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [3], :nextjournal/value \\\"0 3 629.667436\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [4], :nextjournal/value \\\"0 4 623.475310\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [5], :nextjournal/value \\\"0 5 667.481157\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [6], :nextjournal/value \\\"0 6 657.017363\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [7], :nextjournal/value \\\"0 7 701.840710\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [8], :nextjournal/value \\\"0 8 710.760560\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [9], :nextjournal/value \\\"0 9 748.770106\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [10], :nextjournal/value \\\"1 0 5283.038266\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [11], :nextjournal/value \\\"1 1 5194.983816\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [12], :nextjournal/value \\\"1 2 4863.871958\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [13], :nextjournal/value \\\"1 3 5032.590873\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [14], :nextjournal/value \\\"1 4 4800.265635\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [15], :nextjournal/value \\\"1 5 4950.517955\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [16], :nextjournal/value \\\"1 6 4694.119010\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [17], :nextjournal/value \\\"1 7 4830.381402\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [18], :nextjournal/value \\\"1 8 4712.287808\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:path [19], :nextjournal/value \\\"1 9 4782.143488\\\", :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 50, :offset 20, :path [], :remaining 30}, :nextjournal/viewer :elision}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"price table early in the day\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(for [i (range tot-assets)\\n      j (range tot-days)]\\n  (format \\\"%d %d %f\\\" i j (simulate-price i j 0)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"price table later in the day\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(for [i (range tot-assets)\\n      j (range tot-days)]\\n  (format \\\"%d %d %f\\\" i j (simulate-price i j 2)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"this is a global general purpose in memory db\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def txns (atom []))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"#object[clojure.lang.Atom 0x5de49e5a {:status :ready, :val [{:txn :n0, :value 0.1, :value-kind :nav, :who :sys} {:txn :t0, :dt 0, :value 100, :value-kind :usd, :type :buy, :who :h1} {:txn :t0, :type :resp, :value-kind :units, :value 1000.0} {:txn :t2, :dt 0, :value 3000, :value-kind :usd, :type :buy, :who :h2} {:txn :t2, :type :resp, :value-kind :units, :value 30000.0} {:txn :t3, :dt 0, :value 10050, :value-kind :usd, :type :buy, :who :h3} {:txn :t3, :type :resp, :value-kind :units, :value 100500.0}]}]\\\", :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \"(defn transact! [txn]\\n  (swap! txns #(conj % txn)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$transact_BANG_ 0x2d6b2be7 \\\\\\\"indexmodel$transact_BANG_@2d6b2be7\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"nav at t0 (a vanity number at t0 we fix 1 unit to be 10 cents)\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(def nav0 0.1)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"transact nav\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :n0 :value nav0 :value-kind :nav :who :sys})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"t0 request\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"h1 makes a txn giving 100\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :t0 :dt 0 :value 100 :value-kind :usd :type :buy :who :h1})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"units minted\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(defn get-value [txn-id]\\n  (->> @txns\\n       (filter (comp (partial = txn-id) :txn))\\n       (filter (comp (partial = :usd) :value-kind))\\n       last\\n       :value))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$get_value 0x48d74bb4 \\\\\\\"indexmodel$get_value@48d74bb4\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"latest nav\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(defn get-latest-nav []\\n  (->> @txns\\n       (filter (comp (partial = :nav) :value-kind))\\n       last\\n       :value))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$get_latest_nav 0x467c9ad9 \\\\\\\"indexmodel$get_latest_nav@467c9ad9\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"t0 response\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :t0 :type :resp :value-kind :units :value (/ (get-value :t0) (get-latest-nav))})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"t1 h1 comes with more\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :t1 :dt 0 :value 1000 :value-kind :usd :type :buy :who :h1})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 1000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value \"(transact! {:txn :t1 :type :resp :value-kind :units :value (/ (get-value :t1) (get-latest-nav))})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 1000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 0 1], :nextjournal/value :t1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 2], :nextjournal/value [{:path [4 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 2 1], :nextjournal/value 10000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 3], :nextjournal/value [{:path [4 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"t2 h2 comes with 3000\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :t2 :dt 0 :value 3000 :value-kind :usd :type :buy :who :h2})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value \"(transact! {:txn :t2 :type :resp :value-kind :units :value (/ (get-value :t2) (get-latest-nav))})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 0 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 2], :nextjournal/value [{:path [4 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 2 1], :nextjournal/value 30000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 3], :nextjournal/value [{:path [4 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"t3 h3 comes with 10050\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(transact! {:txn :t3 :dt 0 :value 10050 :value-kind :usd :type :buy :who :h3})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 0 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 2], :nextjournal/value [{:path [4 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 2 1], :nextjournal/value 30000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 3], :nextjournal/value [{:path [4 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value [{:path [5 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 1], :nextjournal/value [{:path [5 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1 1], :nextjournal/value :t3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 2], :nextjournal/value [{:path [5 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 3], :nextjournal/value [{:path [5 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 3 1], :nextjournal/value 10050, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 4], :nextjournal/value [{:path [5 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 5], :nextjournal/value [{:path [5 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 5 1], :nextjournal/value :h3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value \"(transact! {:txn :t3 :type :resp :value-kind :units :value (/ (get-value :t3) (get-latest-nav))})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :n0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 0.1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :nav, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :sys, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 2], :nextjournal/value [{:path [3 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 3], :nextjournal/value [{:path [3 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 3 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 4], :nextjournal/value [{:path [3 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 5], :nextjournal/value [{:path [3 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 5 1], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 0 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 2], :nextjournal/value [{:path [4 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 2 1], :nextjournal/value 30000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 3], :nextjournal/value [{:path [4 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value [{:path [5 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 1], :nextjournal/value [{:path [5 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1 1], :nextjournal/value :t3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 2], :nextjournal/value [{:path [5 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 3], :nextjournal/value [{:path [5 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 3 1], :nextjournal/value 10050, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 4], :nextjournal/value [{:path [5 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 5], :nextjournal/value [{:path [5 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 5 1], :nextjournal/value :h3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value [{:path [6 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 0 1], :nextjournal/value :t3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6 1], :nextjournal/value [{:path [6 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6 2], :nextjournal/value [{:path [6 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 2 1], :nextjournal/value 100500.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6 3], :nextjournal/value [{:path [6 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"]\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value \"(defn interesting-txns [interesting-txns-set type-filter]\\n  (->> @txns\\n       (filter (comp (partial = type-filter) :type))\\n       (filter (comp (partial contains? interesting-txns-set) :txn))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$interesting_txns 0x1b1d9369 \\\\\\\"indexmodel$interesting_txns@1b1d9369\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"requests\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(interesting-txns\\n (->> @txns\\n      (filter (comp (partial = :buy) :type))\\n      (map :txn)\\n      set)\\n :buy)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 4], :nextjournal/value [{:path [0 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 5], :nextjournal/value [{:path [0 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 5 1], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 5], :nextjournal/value [{:path [1 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 5 1], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :dt, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :t3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value :buy, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value 10050, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 4], :nextjournal/value [{:path [2 4 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 4 1], :nextjournal/value :usd, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 5], :nextjournal/value [{:path [2 5 0], :nextjournal/value :who, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 5 1], :nextjournal/value :h3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\")\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"dollasr ingested\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(->>\\n (interesting-txns\\n  (->> @txns\\n       (filter (comp (partial = :buy) :type))\\n       (map :txn)\\n       set)\\n  :buy)\\n (map :value) (reduce +))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 13150, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"responses\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(interesting-txns\\n (->> @txns\\n      (filter (comp (partial = :buy) :type))\\n      (map :txn)\\n      set)\\n :resp)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :t0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 2], :nextjournal/value [{:path [0 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 2 1], :nextjournal/value 1000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 3], :nextjournal/value [{:path [0 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value :t2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 2 1], :nextjournal/value 30000.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :txn, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :t3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :type, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value :resp, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 2], :nextjournal/value [{:path [2 2 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 2 1], :nextjournal/value 100500.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 3], :nextjournal/value [{:path [2 3 0], :nextjournal/value :value-kind, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 3 1], :nextjournal/value :units, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\")\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"who invested what\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(->> @txns\\n     (filter (comp (partial = :buy) :type))\\n     (map (juxt :who :value)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :h1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :h2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 3000, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :h3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 10050, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\" \\\")\\\")}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens nil}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"dollars ingested, units minted\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"[(->>\\n  (interesting-txns\\n   (->> @txns\\n        (filter (comp (partial = :buy) :type))\\n        (map :txn)\\n        set)\\n   :buy)\\n  (map :value) (reduce +))\\n (->>\\n  (interesting-txns\\n   (->> @txns\\n        (filter (comp (partial = :buy) :type))\\n        (map :txn)\\n        set)\\n   :resp)\\n  (map :value) (reduce +))]\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 13150, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 131500.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"each time you get a different allocation\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(defn pareto-allocate [asset-count]\\n  (loop\\n   [remaining 1\\n    idx (dec asset-count)\\n    solution {}]\\n    (let [current-asset (- (dec asset-count) idx)\\n    ;ok its not 80 20 rule but some number between 76 and 85 20 rule\\n          pn (/ (+ 76 (rand-int 10)) 100)]\\n      (if (= idx 0)\\n        (conj solution {(keyword (format \\\"a%d\\\" current-asset)) remaining})\\n        (recur\\n         (* (- 1 pn) remaining)\\n         (dec idx)\\n         (conj solution {(keyword (format \\\"a%d\\\" current-asset)) (* pn remaining)}))))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$pareto_allocate 0x6fdda7fe \\\\\\\"indexmodel$pareto_allocate@6fdda7fe\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"test pareto\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(pareto-allocate tot-assets)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :a0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 81/100, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :a1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 19/125, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :a2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 399/12500, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :a3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 1577/312500, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :a4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value 323/312500, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :path []} {:nextjournal/value \"(clerk/plotly {:data [ {:values (->> (pareto-allocate tot-assets)\\n  ((apply juxt all-assets)))\\n   :labels all-assets :type \\\"pie\\\"}] :layout {:height 400 :width 500}})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:values [39/50 209/1250 2541/62500 59961/6250000 15939/6250000], :labels [:a0 :a1 :a2 :a3 :a4], :type \\\"pie\\\"}], :layout {:height 400, :width 500}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(->>\\n (pareto-allocate tot-assets)\\n (map (fn [[k v]] v))\\n (reduce +))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1N, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"each time you get a different allocation\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(defn random-allocate [asset-count]\\n  (let [rl (->> (repeatedly asset-count rand)\\n                (mapv #(* % (rand-int 10000))))\\n        s (apply + rl)]\\n    (->> (range asset-count)\\n         (map #(/ (get rl %) s))\\n         (zipmap (map #(keyword (format \\\"a%d\\\" %)) (range asset-count))))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"dexmodel$random_allocate 0x1da5cb5a \\\\\\\"indexmodel$random_allocate@1da5cb5a\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value {:type :doc, :content [{:type :paragraph, :content [{:type :text, :text \"test random\"}]}], :toc {:type :toc}}, :nextjournal/viewer :markdown} {:nextjournal/value \"(random-allocate tot-assets)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :a0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 0.04177370420115991, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :a1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 0.09620772533893443, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :a2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 0.5499484759234637, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :a3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value 0.281398991980751, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :a4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value 0.030671102555690798, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :path []} {:nextjournal/value \"(clerk/plotly {:data [ {:values (->> (random-allocate tot-assets)\\n  ((apply juxt all-assets)))\\n   :labels all-assets :type \\\"pie\\\"}] :layout {:height 400 :width 500}})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value {:data [{:values [0.03838587417315047 0.2831294738463675 0.004624870890096146 0.41949170893550447 0.25436807215488144], :labels [:a0 :a1 :a2 :a3 :a4], :type \\\"pie\\\"}], :layout {:height 400, :width 500}}, :nextjournal/viewer {:name :plotly, :render-fn #function+ v/plotly-viewer, :fetch-fn \\\"xtjournal.clerk.viewer$fetch_all 0x7840058c \\\\\\\"nextjournal.clerk.viewer$fetch_all@7840058c\\\\\\\"\\\"}}\"}, :path []} {:nextjournal/value \"(->>\\n (random-allocate tot-assets)\\n (map (fn [[k v]] v))\\n (reduce +))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1.0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :indexmodel}}}")
app.init(docs)
</script></body></html>